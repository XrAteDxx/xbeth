<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Invoice Log | My Shop Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="sidebar.css">
    <link rel="stylesheet" href="invoice-log.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn-font@v35.0.1/dist/font-face.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <button class="burger" id="burger"><i class="fas fa-bars"></i></button>
    <div id="sidebar-placeholder"></div>
    <div class="main-content" id="main-content">
        <div class="dashboard-head">
            <h1>Invoices Log</h1>
        </div>
        <div class="invoice-log-section">
            <div class="invoice-log-filters">
                <div>
                    <label for="filterType">Type</label>
                    <select id="filterType">
                        <option value="">All</option>
                        <option value="sell">Sell</option>
                        <option value="buy">Buy</option>
                        <option value="expenses">Expenses</option>
                    </select>
                </div>
                <div>
                    <label for="filterStatus">Status</label>
                    <select id="filterStatus">
                        <option value="">All</option>
                        <option value="paid">Paid</option>
                        <option value="pending">Pending</option>
                        <option value="unpaid">Unpaid</option>
                    </select>
                </div>
                <div>
                    <label for="filterSearch">Customer/Supplier</label>
                    <input type="text" id="filterSearch" placeholder="Search...">
                </div>
                <button id="clearFiltersBtn" type="button">Clear</button>
            </div>
            <div class="invoice-log-table-wrapper">
                <table class="invoice-log-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Customer/Supplier</th>
                            <th>Status</th>
                            <th>Total</th>
                            <th>Amount Paid</th>
                            <th>Remaining</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="invoiceLogBody">
                        <!-- JS will populate -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Details Modal -->
    <div id="detailsModal">
        <div>
            <button id="closeDetailsModal"><i class="fas fa-times"></i></button>
            <h2 style="font-size:1.12rem;font-weight:700;color:#2e1065;margin-bottom:20px;">Invoice Details</h2>
            <div id="detailsModalContent"></div>
        </div>
    </div>
    <!-- Edit Modal -->
    <div id="editInvoiceModal" class="modal-overlay" style="display:none;">
      <div class="modal">
        <div class="modal-header">
          <h2>Edit Invoice</h2>
          <button class="close-modal" id="closeEditModal">&times;</button>
        </div>
        <form id="editInvoiceForm" autocomplete="off">
          <div id="editInvoiceFields"></div>
          <div class="modal-actions">
            <button type="submit" class="save-btn"><i class="fas fa-save"></i> Save</button>
            <button type="button" class="cancel-btn" id="cancelEditModal">Cancel</button>
          </div>
        </form>
      </div>
    </div>
    <script src="invoice-log.js"></script>
    <script>
      fetch('sidebar.html')
        .then(response => response.text())
        .then(html => {
          document.getElementById('sidebar-placeholder').innerHTML = html;
          sidebarInit();
        });
    </script>
</body>
</html>